<!DOCTYPE html>
<html lang="en">

<head>
<link rel="import" href="/head.html">
</head>

<body>

<!-- Navigation -->
<div id="nav-placeholder"></div>

<!-- Page Content -->
<div class="container">

  <div class="row">

    <div class="col-lg-12 mt-5">


<!-- wws -->
<div class="container my-4">

  <hr class="my-4">
  <a href="https://www.woolworths.com.au"><img src="/logo/woolworths_logo.svg.png" style="height:4em; width: 4em;"></a>
  <button type="button" class="btn btn-outline-warning" name="woolworths" onclick="moreItem(this)">more</button>
  <!--Carousel Wrapper-->
  <div id="carouselIndicatorsWws" class="carousel slide carousel-multi-item" data-ride="carousel">
    <!--Controls-->
    <a class="carousel-control-prev" href="#carouselIndicatorsWws" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon bg-info" aria-hidden="true"></span>
      <i class="fa fa-chevron-left"></i></a>
    </a>
    <a class="carousel-control-next" href="#carouselIndicatorsWws" role="button" data-slide="next">
      <span class="carousel-control-next-icon bg-info" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">
      <!--First slide-->
      <div class="carousel-item active">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="w0" style="position:relative;">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w1">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w2">
            </div>
          </div>
        </div>

      </div>
      <!--/.First slide-->

      <!--Second slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="w3">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w4">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w5">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>
        </div>

      </div>
      <!--/.Second slide-->

      <!--Third slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="w6">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w7">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="w8">
              <!-- <i class="far fa-heart" onclick="index_isWish(this)"></i> -->
            </div>
          </div>
        </div>

      </div>
      <!--/.Third slide-->

    </div>
    <!--/.Slides-->

  </div>
  <!--/.Carousel Wrapper-->


</div>

  <!-- chemist -->
  <div class="container my-4">

  <hr class="my-4">
  <a href="https://www.chemistwarehouse.com.au/"><img src="/logo/6402263-1.png" style="height:4em; width: 4em;" alt=""></a>
  <button type="button" class="btn btn-outline-warning" name="chemistwarehouse" onclick="moreItem(this)">more</button>
  <!--Carousel Wrapper-->
  <div id="carouselIndicatorsChemist" class="carousel slide carousel-multi-item" data-ride="carousel">
    <!--Controls-->
    <a class="carousel-control-prev" href="#carouselIndicatorsChemist" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon bg-info" aria-hidden="true"></span>
      <i class="fa fa-chevron-left"></i></a>
    </a>
    <a class="carousel-control-next" href="#carouselIndicatorsChemist" role="button" data-slide="next">
      <span class="carousel-control-next-icon bg-info" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">
      <!--First slide-->
      <div class="carousel-item active">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="c0">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c1">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c2">
            </div>
          </div>
        </div>

      </div>
      <!--/.First slide-->

      <!--Second slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="c3">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c4">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c5">
            </div>
          </div>
        </div>

      </div>
      <!--/.Second slide-->

      <!--Third slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="c6">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c7">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="c8">
            </div>
          </div>
        </div>

      </div>
      <!--/.Third slide-->

    </div>
    <!--/.Slides-->

  </div>
  <!--/.Carousel Wrapper-->

</div>

<!-- bigw -->
  <div class="container my-4">

  <hr class="my-4">
  <a href="https://www.bigw.com.au/"><img src="/logo/BIGW-logo.png" style="height:4em; width: 4em;"></a>
  <button type="button" class="btn btn-outline-warning" name="bigw" onclick="moreItem(this)">more</button>
  <!--Carousel Wrapper-->
  <div id="carouselIndicatorsBigw" class="carousel slide carousel-multi-item" data-ride="carousel">
    <!--Controls-->
    <a class="carousel-control-prev" href="#carouselIndicatorsBigw" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon bg-info" aria-hidden="true"></span>
      <i class="fa fa-chevron-left"></i></a>
    </a>
    <a class="carousel-control-next" href="#carouselIndicatorsBigw" role="button" data-slide="next">
      <span class="carousel-control-next-icon bg-info" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">
      <!--First slide-->
      <div class="carousel-item active">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="b0">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b1">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b2">
            </div>
          </div>
        </div>

      </div>
      <!--/.First slide-->

      <!--Second slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="b3">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b4">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b5">
            </div>
          </div>
        </div>

      </div>
      <!--/.Second slide-->

      <!--Third slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="b6">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b7">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="b8">
            </div>
          </div>
        </div>

      </div>
      <!--/.Third slide-->

    </div>
    <!--/.Slides-->

  </div>
  <!--/.Carousel Wrapper-->

</div>
    </div>
    <!-- /.col-lg-9 -->



  </div>
  <!-- /.row -->


</div>
<!-- /.container -->

<!-- coles -->
  <div class="container my-4">

  <hr class="my-4">
  <a href="https://www.coles.com.au/"><img src="/logo/coles.png" style="height:4em; width: 9em;"></a>
  <button type="button" class="btn btn-outline-warning" name="coles" onclick="moreItem(this)">more</button>
  <!--Carousel Wrapper-->
  <div id="carouselIndicatorsColes" class="carousel slide carousel-multi-item" data-ride="carousel">
    <!--Controls-->
    <a class="carousel-control-prev" href="#carouselIndicatorsColes" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon bg-info" aria-hidden="true"></span>
      <i class="fa fa-chevron-left"></i></a>
    </a>
    <a class="carousel-control-next" href="#carouselIndicatorsColes" role="button" data-slide="next">
      <span class="carousel-control-next-icon bg-info" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">
      <!--First slide-->
      <div class="carousel-item active">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="co0">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co1">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co2">
            </div>
          </div>
        </div>

      </div>
      <!--/.First slide-->

      <!--Second slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="co3">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co4">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co5">
            </div>
          </div>
        </div>

      </div>
      <!--/.Second slide-->

      <!--Third slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="co6">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co7">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="co8">
            </div>
          </div>
        </div>

      </div>
      <!--/.Third slide-->

    </div>
    <!--/.Slides-->

  </div>
  <!--/.Carousel Wrapper-->

</div>
    </div>
    <!-- /.col-lg-9 -->



  </div>
  <!-- /.row -->


</div>
<!-- /.container -->

<!-- priceline -->
  <div class="container my-4">

  <hr class="my-4">
  <a href="https://www.priceline.com.au/"><img src="/logo/priceline.jpg" style="height:4em; width: 9em;"></a>
  <button type="button" class="btn btn-outline-warning" name="priceline" onclick="moreItem(this)">more</button>
  <!--Carousel Wrapper-->
  <div id="carouselIndicatorsPriceline" class="carousel slide carousel-multi-item" data-ride="carousel">
    <!--Controls-->
    <a class="carousel-control-prev" href="#carouselIndicatorsPriceline" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon bg-info" aria-hidden="true"></span>
      <i class="fa fa-chevron-left"></i></a>
    </a>
    <a class="carousel-control-next" href="#carouselIndicatorsPriceline" role="button" data-slide="next">
      <span class="carousel-control-next-icon bg-info" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">
      <!--First slide-->
      <div class="carousel-item active">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="p0">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p1">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p2">
            </div>
          </div>
        </div>

      </div>
      <!--/.First slide-->

      <!--Second slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="p3">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p4">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p5">
            </div>
          </div>
        </div>

      </div>
      <!--/.Second slide-->

      <!--Third slide-->
      <div class="carousel-item">

        <div class="row">
          <div class="col-md-4">
            <div class="card mb-2" id="p6">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p7">
            </div>
          </div>

          <div class="col-md-4 clearfix d-none d-md-block">
            <div class="card mb-2" id="p8">
            </div>
          </div>
        </div>

      </div>
      <!--/.Third slide-->

    </div>
    <!--/.Slides-->

  </div>
  <!--/.Carousel Wrapper-->

</div>
    </div>
    <!-- /.col-lg-9 -->



  </div>
  <!-- /.row -->


</div>
<!-- /.container -->

<!-- Footer -->
<footer class="py-4 bg-info">
  <div class="container">
    <p class="m-0 text-center text-white">Copyright &copy; Your Website 2019</p>
  </div>
</footer>

<!-- Bootstrap core JavaScript -->
<script src="./vendor/jquery/jquery.min.js"></script>
<script src="./vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/lib.js"></script>
<script>

  let xhr = new XMLHttpRequest();   // new HttpRequest instance 

  xhr.open("GET", '/api/1.0/all');

  xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

  let wish_info,wishlist;
    if(localStorage.getItem('wish_info') === 'undefined'){
      wishlist = [];
      localStorage.setItem('wish_info',wishlist);
    }else{
      wish_info = localStorage.getItem('wish_info');
      wishlist = JSON.parse(wish_info);

    }

  xhr.onreadystatechange = function() {
    if (xhr.readyState == 4 && xhr.status == 200) {
      // console.log(JSON.parse(xhr.responseText).body)
      let wws = JSON.parse(xhr.responseText).wws;
      let chemist = JSON.parse(xhr.responseText).chemist;
      let bigw = JSON.parse(xhr.responseText).bigw;
      let coles = JSON.parse(xhr.responseText).coles;
      let priceline = JSON.parse(xhr.responseText).priceline;

      for (let i = 0; i < wws.length; i++) {
        let cardList = document.getElementById(`w${i}`);

        let image = document.createElement("img");
        image.classList.add("card-img-top");
        image.src = wws[i].img;

        let link = document.createElement('a');
        link.href = `/product.html?id=${wws[i].id}&store=${wws[i].store}`;
        link.appendChild(image);

        let card = document.createElement("div");
        card.classList.add("card-body");

        let title = document.createElement("h6");
        title.innerHTML = wws[i].title;
        card.appendChild(title);

        let price = document.createElement("h5");
        price.innerHTML = '$ '+ wws[i].price;
        card.appendChild(price);

        let discount = document.createElement("span");
        discount.innerHTML = 'Save $'+ wws[i].discount;
        discount.style = 'color:red';
        card.appendChild(discount);

        // if(wishlist != undefined){
        if(wishlist){
          // console.log(wishlist)
          let product_wish = wishlist.find(function(item, index, array){
              return item.product_id === wws[i].id && item.store === wws[i].store;
            });

          let heart = document.createElement("i");

          if(!product_wish){
            heart.classList.add("far");
          }else{
            heart.classList.add("far");
            heart.classList.add("fas");
          }
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }else{
          let heart = document.createElement("i");
          heart.classList.add("far");
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }
          
        cardList.appendChild(link);
        cardList.appendChild(card);

      }

      for (let j = 0; j < chemist.length; j++) {
        let cardList = document.getElementById(`c${j}`);
        let image = document.createElement("img");
        image.classList.add("card-img-top");
        image.src = chemist[j].img;

        let link = document.createElement('a');
        link.href = `/product.html?id=${chemist[j].id}&store=${chemist[j].store}`;
        link.appendChild(image);

        let card = document.createElement("div");
        card.classList.add("card-body");

        let title = document.createElement("h6");
        title.innerHTML = chemist[j].title;
        card.appendChild(title);

        let price = document.createElement("h5");
        price.innerHTML = '$ '+ chemist[j].price;
        card.appendChild(price);

        let discount = document.createElement("span");
        discount.innerHTML = 'Save $'+ chemist[j].discount;
        discount.style = 'color:red';
        card.appendChild(discount);

        if(wishlist){
          let product_wish = wishlist.find(function(item, index, array){
              return item.product_id === chemist[j].id && item.store === chemist[j].store;
            });
        
          let heart = document.createElement("i");
          if(!product_wish){
            heart.classList.add("far");
          }else{
            heart.classList.add("far");
            heart.classList.add("fas");
          }
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }else{
          let heart = document.createElement("i");
          heart.classList.add("far");
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }

        cardList.appendChild(link);
        cardList.appendChild(card);
        
            
      }

      for (let k = 0; k < bigw.length; k++) {
        let cardList = document.getElementById(`b${k}`);
        let image = document.createElement("img");
        image.classList.add("card-img-top");
        image.src = bigw[k].img;

        let link = document.createElement('a');
        link.href = `/product.html?id=${bigw[k].id}&store=${bigw[k].store}`;
        // link.setAttribute("id", `${bigw[k].id}`);
        link.appendChild(image);

        let card = document.createElement("div");
        card.classList.add("card-body");

        let title = document.createElement("h6");
        title.innerHTML = bigw[k].title;
        card.appendChild(title);

        let price = document.createElement("h5");
        price.innerHTML = '$ '+ bigw[k].price;
        card.appendChild(price);

        let discount = document.createElement("span");
        discount.innerHTML = 'Save $'+ bigw[k].discount;
        discount.style = 'color:red';
        card.appendChild(discount);

        if(wishlist){
          let product_wish = wishlist.find(function(item, index, array){
              return item.product_id === bigw[k].id && item.store === bigw[k].store;
            });

          let heart = document.createElement("i");
          if(!product_wish){
            heart.classList.add("far");
          }else{
            heart.classList.add("far");
            heart.classList.add("fas");
          }
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }else{
          let heart = document.createElement("i");
          heart.classList.add("far");
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }

        cardList.appendChild(link);
        cardList.appendChild(card);
        
            
      }

      for (let l = 0; l < coles.length; l++) {
        let cardList = document.getElementById(`co${l}`);
        let image = document.createElement("img");
        image.classList.add("card-img-top");
        image.src = coles[l].img;

        let link = document.createElement('a');
        link.href = `/product.html?id=${coles[l].id}&store=${coles[l].store}`;
        // link.setAttribute("id", `${coles[l].id}`);
        link.appendChild(image);

        let card = document.createElement("div");
        card.classList.add("card-body");

        let title = document.createElement("h6");
        title.innerHTML = coles[l].title;
        card.appendChild(title);

        let price = document.createElement("h5");
        price.innerHTML = '$ '+ coles[l].price;
        card.appendChild(price);

        let discount = document.createElement("span");
        discount.innerHTML = 'Save $'+ coles[l].discount;
        discount.style = 'color:red';
        card.appendChild(discount);

        if(wishlist){
          let product_wish = wishlist.find(function(item, index, array){
              return item.product_id === coles[l].id && item.store === coles[l].store;
            });

          let heart = document.createElement("i");
          if(!product_wish){
            heart.classList.add("far");
          }else{
            heart.classList.add("far");
            heart.classList.add("fas");
          }
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }else{
          let heart = document.createElement("i");
          heart.classList.add("far");
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }

        cardList.appendChild(link);
        cardList.appendChild(card);
        
            
      }

      for (let m = 0; m < priceline.length; m++) {
        let cardList = document.getElementById(`p${m}`);
        let image = document.createElement("img");
        image.classList.add("card-img-top");
        image.src = priceline[m].img;

        let link = document.createElement('a');
        link.href = `/product.html?id=${priceline[m].id}&store=${priceline[m].store}`;
        // link.setAttribute("id", `${priceline[m].id}`);
        link.appendChild(image);

        let card = document.createElement("div");
        card.classList.add("card-body");

        let title = document.createElement("h6");
        title.innerHTML = priceline[m].title;
        card.appendChild(title);

        let price = document.createElement("h5");
        price.innerHTML = '$ '+ priceline[m].price;
        card.appendChild(price);

        let discount = document.createElement("span");
        discount.innerHTML = 'Save $'+ priceline[m].discount;
        discount.style = 'color:red';
        card.appendChild(discount);

        if(wishlist){
          let product_wish = wishlist.find(function(item, index, array){
              return item.product_id === priceline[m].id && item.store === priceline[m].store;
            });

          let heart = document.createElement("i");
          if(!product_wish){
            heart.classList.add("far");
          }else{
            heart.classList.add("far");
            heart.classList.add("fas");
          }
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }else{
          let heart = document.createElement("i");
          heart.classList.add("far");
          heart.classList.add("fa-heart");
          heart.addEventListener("click", index_isWish);
          cardList.appendChild(heart);
        }

        cardList.appendChild(link);
        cardList.appendChild(card);
        
            
      }

    }
  }
  xhr.send();

</script>

</body>

</html>


